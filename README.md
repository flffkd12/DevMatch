# 📌 Backend 6기 8회차 8팀 - 2차 프로젝트

이 레포지토리는 **프로그래머스 백엔드 데브코스**에서 진행한 **백엔드 6기 8회차 8팀의 2차 프로젝트**를 Fork하여,  
제가 맡은 **작업 및 기여 내용을 기록**하기 위해 별도로 보관하는 공간입니다.

---

## 🚀 구현 기능

### 💻 프로젝트 API

| HTTP 메서드 & 경로                 | 설명                    | HTTP 메서드 & 경로                 | 설명                   |
|-----------------------------------|-------------------------|------------------------------------|------------------------|
| `POST /projects`                  | 새로운 프로젝트 생성      | `PATCH /projects/{id}/status`      | 프로젝트 상태 수정      |
| `GET /projects`                   | 모든 프로젝트 목록 조회   | `PATCH /projects/{id}/content`     | 프로젝트 역할 배분 수정 |
| `GET /projects/{id}`              | 특정 프로젝트 상세 조회   | `DELETE /projects/{id}`            | 프로젝트 삭제          |
| `GET /projects/{id}/applications` | 프로젝트 지원서 목록 조회 | `POST /projects/{id}/applications` | 프로젝트 지원서 등록    |

### 🌟 설계 중 각 계층의 역할

- **컨트롤러**  
    - 요청 수신, 유효성 검사, 응답 & 예외 전달, 작업 위임

- **서비스**
    - 데이터 가공, 비즈니스 로직 처리, 더티 체킹 및 영속성 컨텍스트 관리

- **레포지터리**  
    - JPA를 통한 DB 서버 접근
    - 같은 도메인의 서비스에서만 호출(역할 분리 및 결합도 감소)

---

## 🧑‍💻 연관 관계 설계

- `User : Project = 1 : N` => **단방향 관계 수립**
    - User가 Project의 수정, 삭제에 대해 실시간 동기화할 필요 없음
    - 따라서 복잡성만 증가시키는 양방향 관계 사용 X

- `Project : Application = 1 : N` => **양방향 관계 수립**
    - Project 삭제 시 생길 수 있는 Applciation 고아 관리의 필요성
    - 프로젝트 복잡성이 커질수록, JPA에게 자식 엔티티의 생명주기를 맡기는 것이 유리

### 🔥 주요 사안

- 자식 엔티티의 수정, 삭제로 인한 부모 엔티티 컬렉션의 변화 & 쿼리 발생 
- Cascade.REMOVE vs orphanRemoval = true

---

## 🧪 테스트 전략

- 컨트롤러 계층: `@WebMvcTest` 활용 **슬라이스 테스트**를 통한 **순수 컨트롤러의 책임** 검증 & **통합 테스트**를 통한 **더티 체킹** 검증  
- 서비스 계층: `Mockito` 활용 **단위 테스트**로 비즈니스 로직의 **상태 & 행위** 검증  
- 레포지터리 계층: `@DataJpaTest` 활용 **슬라이스 테스트**를 통한 **커스텀 메서드** 검증

### 🔥 주요 사안

- 테스트 피라미드에 맞춰 `단위 테스트 > 슬라이스 테스트 > 통합 테스트` 설계  
- `빡빡한 테스트 vs 최소한의 검증 테스트` 사이의 균형

---

## ⚙️ CI/CD

- GitHub Actions 를 이용한 자동 빌드 및 테스트 파이프라인 구성  
- EC2 인스턴스에 SSH를 통한 자동 배포 및 운영

### 🔥 주요 사안

- 러너 환경에서의 서브 쉘 분리 vs 쉘 스크립트

---

## ⚠️ 보완할 점 & 개선 아이디어

- `Project` 엔티티의 `tech_stack`을 1:N 관계 테이블로 분리 => 테이블 복잡도 감소, 의미 명확성 개선
- `Project` 와 `Application`의 `@OneToMany` 관계에 따른 JPA 내부에서 발생하는 쿼리 동작에 대한 테스트 추가
